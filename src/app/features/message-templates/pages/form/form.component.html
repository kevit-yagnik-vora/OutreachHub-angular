<div class="max-w-2xl mx-auto bg-white shadow rounded-2xl p-6">
  <h2 class="text-xl font-semibold text-slate-700 mb-4">
    {{ templateId ? "Edit" : "Create" }} Message Template
  </h2>

  <form (ngSubmit)="save()" [formGroup]="form" class="space-y-4">
    <!-- Name -->
    <div>
      <label class="block text-sm font-medium text-slate-600">Name</label>
      <input
        type="text"
        formControlName="name"
        class="mt-1 block w-full rounded-lg border border-slate-300 px-3 py-2 focus:ring-2 focus:ring-indigo-500"
        placeholder="Template Name"
      />
    </div>

    <!-- Type -->
    <div>
      <label class="block text-sm font-medium text-slate-600">Type</label>
      <select
        formControlName="type"
        class="mt-1 block w-full rounded-lg border border-slate-300 px-3 py-2 focus:ring-2 focus:ring-indigo-500"
      >
        <option value="Text">Text</option>
        <option value="Text-Image">Text + Image</option>
      </select>
    </div>

    <!-- Message Text -->
    <div formGroupName="message">
      <label class="block text-sm font-medium text-slate-600"
        >Message Text</label
      >
      <textarea
        formControlName="text"
        rows="3"
        class="mt-1 block w-full rounded-lg border border-slate-300 px-3 py-2 focus:ring-2 focus:ring-indigo-500"
        placeholder="Enter message..."
      ></textarea>
    </div>

    <!-- Image URL (only show if type = Text-Image) -->
    <div
      formGroupName="message"
      *ngIf="form.get('type')?.value === 'Text-Image'"
    >
      <label class="block text-sm font-medium text-slate-600">Image URL</label>
      <input
        type="text"
        formControlName="imageUrl"
        class="mt-1 block w-full rounded-lg border border-slate-300 px-3 py-2 focus:ring-2 focus:ring-indigo-500"
        placeholder="https://example.com/image.png"
      />
      <div class="mt-2 flex justify-center">
        <img
          *ngIf="form.get('message.imageUrl')?.value"
          [src]="form.get('message.imageUrl')?.value"
          alt="Preview"
          class="max-w-full max-h-full rounded-lg border border-gray-300 object-contain shadow-md"
        />
      </div>
    </div>

    <!-- Actions -->
    <div class="flex justify-end space-x-3 pt-4">
      <a
        routerLink="/message-templates"
        class="px-4 py-2 rounded-lg border border-slate-300 text-slate-600 hover:bg-slate-50"
      >
        Cancel
      </a>
      <button
        type="submit"
        class="px-4 py-2 rounded-lg bg-indigo-600 text-white hover:bg-indigo-700"
      >
        Save
      </button>
    </div>
  </form>
</div>
